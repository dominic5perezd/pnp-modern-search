# Use query string from url for dynamic results

!!! note
    The PnP Modern Search Web Parts must be deployed to your App Catalog and activated on your site. See the [installation documentation](../installation.md) for details.

This scenario describes how to use query string as value in the URL from the current page. You can use url query string parameters to build dynamic search pages.
Use a library with metadata that you can use the query string parameter in the url. The value in the query string need to match with the metadata in the library.

## Create a new SharePoint page
To add the Search Web Parts, you must first create a new modern SharePoint page. We will be configure this new page as a search page with the PnP Modern Search Web Parts.

![Create a page](assets/use-query-string-in-url/Create-a-page.png)

## Add PnP Search Web Parts
On the newly created page, add an SharePoint Quick links Web Part and a PnP Modern Search Web Part - Search Results. 

![Add Web Parts](assets/use-query-string-in-url/add-web-parts.png)

The Web Parts can be arranged and configured on the page as desired.

## Configure Search Results
Use the SharePoint Search as source and configure a query template. In this case i will show only documents from one library with metadata in the search results. Choose the existing default result source LocalSharePointRsults.

![configure search results query](assets/use-query-string-in-url/configure-search-results-query.png)

### Layout configuration
Use the default configuration.

### Web Part Connections
Activate the "use input query text" connection on top. Configure "Page environment" as source, "Query string" as page environment property, "Query parameters" as query string property. 
You will miss the "Event" Query String from the URL on this time. But add your query string to the url manual and your query string is available in the configuration. Use the query string "Event" in the queryParameters properties drop down in the Web Part configuration.

As example:
Full URL: https://[TENANT]/sites/[SITEURL]/SitePages/[PAGE].aspx?Event=Teams Nation&Mode=Edit
Query String: Event=
Value: Teams Nation

![configure query string parameter](assets/use-query-string-in-url/query-string-parameter.png)

After this step, our Web Part configuration are finished.

## Add links with query string
For a better feeling create quick links and use links with the query string in the URL.

![add quicklinks with query string](assets/use-query-string-in-url/quicklinks-query-string.png)

## Solution
After the links are created and saved, we are ready to test the scenario.

With a click (1) the url is passed with the parameter (2) and the PnP Modern Serach Results Web Part, with the connection, will read the query string value a show only docuements with a matching (3).  
![people search](assets/use-query-string-in-url/solution.png)
