<content id="template">
    <style>
        .template_root .slide {
            width: 318px;
            height: 360px;
            margin: 5px;
        }
        
        .flickity-page-dots { 
            bottom: 5px; 
        }
    </style>

    <div class="template_root">
        {{#if @root.hasPrimaryOrSecondaryResults}} 
            {{#>slider items=(JSONstringify @root.items 2) options=(JSONstringify @root.sliderOptions)}}
                <div class="slide">
                    \{{#if AuthorOWSUSER}}
                        \{{#with (split AuthorOWSUSER '|')}}
                            <pnp-document-card 	title="\{{../Title}}" 
                                            location="\{{../SiteTitle}}"
                                            preview-image="\{{getPreviewSrc item}}" 
                                            preview-url="\{{../ServerRedirectedEmbedURL}}" 
                                            date="\{{getDate ../Created 'LL'}}" 
                                            href="\{{getUrl item}}" 
                                            author="\{{../Author}}" 
                                            profile-image="/_layouts/15/userphoto.aspx?size=L&username=\{{[0]}}" 
                                            file-extension="\{{../FileType}}"
                                            enable-preview="false" 
                                            show-file-icon="true">
                            </pnp-document-card>
                        \{{/with}}
                    \{{else}}
                            <pnp-document-card 	title="\{{Title}}" 
                                            location="\{{SiteTitle}}"
                                            preview-image="\{{getPreviewSrc item}}" 
                                            preview-url="\{{ServerRedirectedEmbedURL}}" 
                                            date="\{{getDate Created 'LL'}}" 
                                            href="\{{getUrl item}}" 
                                            author="\{{Author}}" 
                                            profile-image="" 
                                            file-extension="\{{FileType}}"
                                            enable-preview="false" 
                                            show-file-icon="true">
                            </pnp-document-card>
                    \{{/if}}                    
                </div>                
            {{/slider}}
        {{else}}
            {{#unless showBlank}}
                <div class="template_noResults">{{@root.strings.NoResultMessage}}</div>
            {{/unless}}
        {{/if}}
    </div>
</content>

<content id="placeholder"> 

    <style>
        .placeholder_root .slide {
            width: 318px;
            height: 360px;
            margin: 5px;
        }
        
        .flickity-page-dots { 
            bottom: 10px; 
        }
    </style>

    <div class="placeholder_root">
        {{#>slider items="[{},{},{},{},{}]" options=(JSONstringify @root.sliderOptions)}}
            <div class="slide">
                <pnp-document-card-shimmers is-compact="\{{@root.isCompact}}"></pnp-document-card-shimmers>
            </div>                
        {{/slider}}
    </div>
</content>